<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <script type="text/javascript">
        /* 
            Manejadores de eventos de DOM
           -------------------------------
        La especificación DOM define otros dos métodos similares a los disponibles: 
            addEventListener()
            removeEventListener()

        La principal diferencia entre estos métodos y los anteriores es que en este caso se requieren 
        dos parámetros: 
            1- el nombre del "event listener"
            2- una referencia a la función encargada de procesar el evento

        El primer argumento se debe eliminar el prefijo "on". Es decir si se utilizaba el nombre "onclick", 
        ahora se debe utilizar "click".

        */
        window.onload = function(){
            var elDiv = document.getElementById("div_principal");

            function muestraMensaje() {
                console.log("Has pulsado el ratón");
            }

            function quitarMensaje(){
                alert("Evento removido!")
                elDiv.removeEventListener("click", muestraMensaje);
            }

            function ponerMensaje(){
                alert("Evento añadido!")
                elDiv.addEventListener("click", muestraMensaje);
            }

            elDiv.addEventListener("click", muestraMensaje);
            botonQuitar.addEventListener("click", quitarMensaje);
            botonPoner.addEventListener("click", ponerMensaje);
        }
        
    </script>
</head>>
<body>
    <div id="div_principal">
        <p>Clickeame para mostrar por console.log</p>
    </div>

    <input type="button" id="botonQuitar" value="Quitar el evento"/>
    <input type="button" id="botonPoner" value="Poner el evento"/>
</body>
</html>